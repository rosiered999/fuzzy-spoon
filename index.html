<!DOCTYPE html>
<html>
<head>
<title>Cropping tool</title>
</head>
<script>
function preview()
{
  var img = document.getElementsByTagName('img')[0]
  var file = document.querySelector('input[type="file"]').files[0];
  var reader = new FileReader();

  reader.addEventListener("load",
    function()
    {
      image = new Image();
      image.addEventListener("load", function()
    {
      h = image.height;
      w = image.width;
      img.style.height = h;
      img.style.width = w;
      //alert(img.childNodes.length);
      if(img.childNodes.length>=1)//for not allowing multiple images to get uploaded
      {
        img.removeChild(img.childNodes[0]);
      }

      //prev.appendChild(this);
    });
      image.src = reader.result;
    });

  if(file)
  {
    reader.readAsDataURL(file);
  }
  drawImage()
}
function drawImage()
{
  var canv = document.querySelector('img');
  var canvas = document.createElement('canvas')
  var ctx = canvas.getContext("2d")
}
</script>
<body>
<p>This is a cropping tool.</p>
<p>
<form><input onchange="preview()" type="file"></form>
</p>
<a href="#">
<img class="image">
</a>
</body>

</html>
